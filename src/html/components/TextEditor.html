<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:on="https://github.com/sebastien/ui.js"
>
  <head> </head>
  <body>
    <template id="TextEditor">
      <div class="TextEditor">
        editor
        <div class="-editor"></div>
        <div class="-content"><h1>Hello, world</h1></div>
      </div>
    </template>
    <script type="module">
      //<![CDATA[
      import {EditorView} from "prosemirror-view"
      import {Schema, DOMParser} from "prosemirror-model"
      import { on } from "@ui.js";
      /*
      on({
        ["TextEditor.Mount"]: (_, topic) => {
          for (const { effect, scope } of topic.flush()) {
            const parent = effect.query(".-editor")[0];
            const content = effect.query(".-content")[0];
            const initialState = state: EditorState.create({
              doc: DOMParser.fromSchema(mySchema).parse(content),
            });
            // Create an editor view and attach it to the container
            const editorView = new EditorView(parent, {
              state: initialState,
            });

            // Update the editor state when the content changes
            editorView.updateState(initialState);
          }
          return false;
        },
      });
      */
      //]]>
    </script>
  </body>
</html>
